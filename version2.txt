-- Create the tables
CREATE TABLE Stores (
    StoreID SERIAL PRIMARY KEY,
    StoreName VARCHAR(100) NOT NULL,
    StoreAddress VARCHAR(200) NOT NULL,
    StoreHours VARCHAR(100) NOT NULL
);

CREATE TABLE Products (
    ProductID SERIAL PRIMARY KEY,
    ProductName VARCHAR(100) NOT NULL,
    ProductBrand VARCHAR(100) NOT NULL,
    ProductType VARCHAR(100) NOT NULL,
    UPC VARCHAR(20) UNIQUE NOT NULL
);

CREATE TABLE Vendors (
    VendorID SERIAL PRIMARY KEY,
    VendorName VARCHAR(100) NOT NULL
);

CREATE TABLE Customers (
    CustomerID SERIAL PRIMARY KEY,
    CustomerName VARCHAR(100),
    CustomerEmail VARCHAR(100),
    CustomerPhone VARCHAR(20)
);

CREATE TABLE Inventory (
    InventoryID SERIAL PRIMARY KEY,
    StoreID INT NOT NULL REFERENCES Stores(StoreID),
    ProductID INT NOT NULL REFERENCES Products(ProductID),
    Quantity INT NOT NULL,
    UNIQUE (StoreID, ProductID)
);

CREATE TABLE Orders (
    OrderID SERIAL PRIMARY KEY,
    CustomerID INT REFERENCES Customers(CustomerID),
    OrderDate DATE NOT NULL,
    TotalAmount DECIMAL(10, 2) NOT NULL
);

CREATE TABLE OrderDetails (
    OrderDetailID SERIAL PRIMARY KEY,
    OrderID INT NOT NULL REFERENCES Orders(OrderID),
    ProductID INT NOT NULL REFERENCES Products(ProductID),
    Quantity INT NOT NULL,
    UnitPrice DECIMAL(10, 2) NOT NULL
);

CREATE TABLE Shipments (
    ShipmentID SERIAL PRIMARY KEY,
    VendorID INT NOT NULL REFERENCES Vendors(VendorID),
    ShipmentDate DATE NOT NULL
);

CREATE TABLE ShipmentDetails (
    ShipmentDetailID SERIAL PRIMARY KEY,
    ShipmentID INT NOT NULL REFERENCES Shipments(ShipmentID),
    StoreID INT NOT NULL REFERENCES Stores(StoreID),
    ProductID INT NOT NULL REFERENCES Products(ProductID),
    Quantity INT NOT NULL
);